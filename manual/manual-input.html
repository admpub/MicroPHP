<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Input输入_获取输入数据_MicroPHP手册_MicroPHP_真正的敏捷PHP开发框架</title>
        <meta name="keywords" content="Input输入_获取输入数据,MicroPHP,PHP框架,PHP开发,PHP敏捷开发"/>
        <meta name="description" content="
MicroPHP里的CoreInput类是专门用来获取各种输入数据，比如：GET,POST,SESSION,SERVER,COOKIE以及各种路由信息,同时获取GET，POST数据的方法具有验证功能。
使用input类获取数据有两个方式：
1.$this->input->xxx()
2.CoreInput::xxx()
1和2效果是一样的，$this->input其实就是Core,MicroPHP是一个免费、开源、敏捷的MVC模式的PHP开发框架。它易拓展而不失灵活，可以轻松对应大中小型项目。MicroPHP没有大而全的功能，只给你最需要的底层功能，但是给你无限的灵活拓展能力。"/>
        <link rel="icon" href="public/microphp_res/images/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="public/microphp_res/images/favicon.ico" type="image/x-icon" />
<link rel="stylesheet" href="public/ui/css/bootstrap.min.css"/><link rel="stylesheet" href="public/ui/css/bootstrap-theme.min.css"/><link rel="stylesheet" href="public/microphp_res/css/buttons.css"/><link rel="stylesheet" href="public/microphp_res/css/style.css?ver=2.4"/>    </head>
    <body  class="">
        <div><!--body container start-->
                <div class="container ">
            <div class="row">
                                    <div class="col-sm-12 col-md-3 manual_left">
                            <script>var html = true;</script>
    <ul class="nav nav-pills nav-stacked nav-list nav_manual">
        <h2><small><i class="glyphicon glyphicon-list"></i></small>目录</h2>
                <li><a class="" href="manual-about_microphp.html" key="about_microphp"><strong>MicroPHP详细介绍</strong></a></li>
                <li><a class="" href="manual-sysconfig.html" key="sysconfig"><strong>系统配置说明</strong></a></li>
                <li><a class="" href="manual-form_validator.html" key="form_validator"><strong>表单验证</strong></a></li>
                <li><a class="" href="manual-error_control.html" key="error_control"><strong>错误控制</strong></a></li>
                <li><a class="" href="manual-sys_functions.html" key="sys_functions"><strong>系统函数</strong></a></li>
                <li><a class="" href="manual-database_manual.html" key="database_manual"><strong>数据库手册</strong></a></li>
                <li><a class="" href="manual-output.html" key="output"><strong>输出</strong></a></li>
                <li><a class="" href="manual-config.html" key="config"><strong>获取配置</strong></a></li>
                <li><a class="" href="manual-library.html" key="library"><strong>使用类库</strong></a></li>
                <li><a class="" href="manual-view.html" key="view"><strong>使用视图</strong></a></li>
                <li><a class="" href="manual-router.html" key="router"><strong>URL路由</strong></a></li>
                <li><a class="" href="manual-console.html" key="console"><strong>命令行下的MicroPHP</strong></a></li>
                <li><a class="" href="manual-plugin.html" key="plugin"><strong>插件模式</strong></a></li>
                <li><a class="" href="manual-core_ext.html" key="core_ext"><strong>拓展核心</strong></a></li>
                <li><a class="" href="manual-cache.html" key="cache"><strong>缓存</strong></a></li>
                <li><a class="" href="manual-autoload.html" key="autoload"><strong>自动加载</strong></a></li>
                <li><a class="" href="manual-helper.html" key="helper"><strong>helper文件</strong></a></li>
                <li><a class="" href="manual-dbcfg.html" key="dbcfg"><strong>数据库配置</strong></a></li>
                <li><a class="" href="manual-database.html" key="database"><strong>连接数据库</strong></a></li>
                <li><a class="" href="manual-model.html" key="model"><strong>使用模型</strong></a></li>
                <li><a class="" href="manual-controller.html" key="controller"><strong>控制器</strong></a></li>
                <li><a class="" href="manual-name.html" key="name"><strong>命名规则</strong></a></li>
                <li><a class="" href="manual-pagebar.html" key="pagebar"><strong>分页条</strong></a></li>
                <li><a class="" href="manual-hmvc.html" key="hmvc"><strong>HMVC模式</strong></a></li>
                <li><a class="active" href="manual-input.html" key="input"><strong>Input输入_获取输入数据</strong></a></li>
                <li><a class="" href="manual-table_model.html" key="table_model"><strong>表模型</strong></a></li>
            </ul>
                    </div>
                    <div class="manual_nav_fix"></div>
                
                <div class="col-sm-12  manual_right  col-sm-9">
                    <iframe id="manual_iframe" name="manual_iframe" scrolling="no" width="100%" style="display: none;" frameborder="0" src="about:blank"></iframe>
                    <div class="panel panel-collapse panel-primary">
                        <div class="panel-heading">
                            Input输入_获取输入数据                        </div>
                        <div class="panel-body">
                            <pre style="border:none;background:none;">
MicroPHP里的CoreInput类是专门用来获取各种输入数据，比如：GET,POST,SESSION,SERVER,COOKIE以及各种路由信息,同时获取GET，POST数据的方法具有验证功能。
使用input类获取数据有两个方式：
1.$this->input->xxx()
2.CoreInput::xxx()
1和2效果是一样的，$this->input其实就是CoreInput的一个类实例对象。
<b>获取GET，POST数据有4个模式</b>：
1.$this->input->get($key = null, $default = null, $xss_clean = false)
  从GET里面获取数据。
2.$this->input->post($key = null, $default = null, $xss_clean = false)
  从POST里面获取数据。
3.$this->input->get_post($key = null, $default = null, $xss_clean = false)
  先从GET里面获取，没有的话再到POST里获取。
4.$this->input->post_get($key = null, $default = null, $xss_clean = false)
  先从POST里面获取，没有的话再到GET里获取。
参数说明：
$key       键
$default   没有传递数据时使用的默认值
$xss_clean 是否对数据进行xss过滤，默认false不过滤
<b>$this->input在4个模式下还有下面的xxx方法，这里只用get_xxx模式作为说明。</b>
    (1).$this->input->get_int($key, $min = null, $max = null, $default = null)
       作用：获取一个整数。
       参数说明：
       $key     键
       $min     最小值，为null不限制
       $max     最大值，为null不限制
       $default 默认值。格式错误或者不在范围，返回默认值
       使用示例：
       $this->input->get_int('id',1,null,1)
    (2).$this->input->get_date($key, $min = null, $max = null, $default = null)
       作用：获取日期，格式:2012-12-12
       参数说明：
       $key     键
       $min     最小日期，格式:2012-12-12。为null不限制
       $max     最大日期，格式:2012-12-12。为null不限制
       $default 默认日期。格式错误或者不在范围，返回默认日期
       使用示例：
       $this->input->get_date('add_date',null,null,date('Y-m-d'))
    (3).$this->input->get_time($key, $min = null, $max = null, $default = null)
       作用：获取时间，格式:15:01:55
       参数说明：
       $key     键
       $min     最小时间，格式:15:01:55。为null不限制
       $max     最大时间，格式:15:01:55。为null不限制
       $default 默认值。格式错误或者不在范围，返回默认值
       使用示例：
       $this->input->get_time('add_time',null,null,date('H:i:s'))
    (4).$this->input->get_datetime($key, $min = null, $max = null, $default = null)
       作用：获取日期时间，格式:2012-12-12 15:01:55
       参数说明：
       $key     键
       $min     最小日期时间，格式:2012-12-12 15:01:55。为null不限制
       $max     最大日期时间，格式:2012-12-12 15:01:55。为null不限制
       $default 默认值。格式错误或者不在范围，返回默认值
       使用示例：
       $this->input->get_datetime('add_datetime',null,null,date('Y-m-d H:i:s'))
    (5).$this->input->get_rule($rule, $key, $default = null)
       作用：根据验证规则和键获取一个值
       参数说明：
       $rule    表单验证规则.示例：1.int 2. array('int','range[1,10]')
       $key     键
       $default 默认值。格式错误或者验证不通过，返回默认值。
       使用示例：
       $this->input->get_rule(CoreRule::email(),'email')
       <b>验证规则很多,这么多规则怎么记忆?每次写验证都要看手册？</b>
        回答是No，只要在有自动提示的IDE里面$this->rule->xxx会自动提示xxx方法，
        xxx就是对应着所有的规则。
        另外还也可以是CoreRule::xxxx()也会自动提示。而且有良好的使用说明注释。
        CoreRule类封装了所有的规则生成的静态方法，方法名字和规则名称一致。
        比如：
        1.required规则，就有$this->rule->required()方法，也可以用CoreRule::required()。
        2.datetime规则，就有$this->rule->datetime($can_empty = false)方法，
          也可以用CoreRule::datetime($can_empty = false)。
<b>获取COOKIE数据</b>
$this->input->cookie($key = null, $default = null, $xss_clean = false)
参数说明：
$key       键
$default   没有传递数据时使用的默认值
$xss_clean 是否对数据进行xss过滤，默认false不过滤
<b>获取SESSION数据</b>
$this->input->session($key = null, $default = null)
参数说明：
$key       键
$default   没有数据时使用的默认值
<b>获取SERVER数据</b>
$this->input->server($key = null, $default = null)
参数说明：
$key       键，不区分大小写
$default   没有数据时使用的默认值
<b>Ajax请求判断</b>
$this->input->is_ajax()，如果是ajax请求返回true，不是就返回false。该方法之对jquery的ajax有效，该方法原理是通过判断jquery设置的头部变量HTTP_X_REQUESTED_WITH：XMLHttpRequest。
<b>命令行执行判断</b>
$this->input->isCli()，如果是在命令行下执行的返回ture，反之返回false。
<b>xss过滤</b>
$this->input->xss_clean($val),该方法会对$val进行xss过滤然后返回过滤后的数据。
<b>获取路由信息相关的方法</b>
    (1).$this->input->module_name()
      hmvc模块名称，没有模块就为空
    (2).$this->input->method_path()
      url中方法的路径,比如：1.home.index , 2.user.home.index ，user是文件夹
    (3).$this->input->method_name()
      url中方法名称,比如：index
    (4).$this->input->method_prefix()
      $system配置中方法前缀,比如：do
    (5).$this->input->controller_path()
      url中控制器的路径，比如：1.home 2.user.home ，user是文件夹
    (6).$this->input->controller_name()
      url中控制器名称，比如：home
    (7).$this->input->folder_name()
      url中文件夹名称，没有文件夹返回空
    (8).$this->input->controller_file()
      请求的控制器文件绝对路径，比如：/home/www/app/controllers/home.php
    (9).$this->input->class_name()
      请求的控制器类名称，比如：Home
    (10).$this->input->class_method_name()
      请求的控制器方法名称，比如：doIndex
    (11).$this->input->parameters($key = null)
      传递给控制器方法的所有参数的数组，参数为空时返回空数组
      $key 参数的索引从0开始，如果传递了索引那么将返回索引对应的参数,不存在的索引将返回null
      比如：
         1.home.index/username/1234，那么返回的参数数组就是：array('username','1234')。
         2.如果传递了$key,比如$key是1， 那么将返回1234。如果$key是2那么将返回null。
</pre>                        </div>
                    </div>
                                    </div>
                <div class="clearfix visible-xs"></div>
            </div>
            </div><!--body container end-->
<div class="copyright">
    <div class="container center-block">
        <p>Powered By <a target="_blank" href="http://www.host900.com/">狂奔的蜗牛</a>
            | <a href="http://git.oschina.net/snail/microphp/tags" target="_blank">历史版本</a>
            | <a href="http://git.oschina.net/snail/microphp/tree/development/modules"target="_blank">源代码</a>
            | <a href="?in.action/8">快速入门</a>
            | <a href="http://www.oschina.net/p/microphp">MicroPHP@开源中国</a></p>
        <p>源代码许可证 <a target="_blank" href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License v2.0</a></p>
        <p>MicroPHP官方QQ交流群 : 42807575 , 有问题欢迎加群交流</p>
    </div>
</div>
<div id="gotoTop" title="返回顶部"></div>
            <script type="text/javascript">
    var duoshuoQuery = {short_name: "microphp"};
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';
        ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0]
                || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
</script>
<script src="public/ui/jquery.js"></script><script src="public/ui/js/bootstrap.min.js"></script><script src="public/microphp_res/js/buttons.js"></script><script src="public/microphp_res/js/run_prettify.js"></script><script src="public/microphp_res/js/scroll.js"></script><script src="public/microphp_res/js/style.js?ver=2.8"></script><div style="display: none;"><script type="text/javascript">
    var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
    document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F25dc3c6d2187c5da81c6269c209aa726' type='text/javascript'%3E%3C/script%3E"));
    </script></div>                </body>
</html>